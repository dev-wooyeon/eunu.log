# 리팩토링 백로그

## 개요
eunu.log 프로젝트의 유지보수성과 확장성을 향상시키기 위한 리팩토링 작업들을 작업 단위로 분류하고 관리합니다.

## 작업 상태 정의
- 🔄 **대기중**: 작업 준비 완료, 시작 가능
- 🚧 **진행중**: 현재 작업 중
- ✅ **완료**: 작업 완료 및 검증됨
- ⏸️ **일시중지**: 우선순위 변경으로 일시 중지

## 우선순위 기준
1. **높음**: 타입 안전성, 에러 처리 등 핵심 안정성 관련
2. **중간**: 코드 중복 제거, 성능 최적화
3. **낮음**: 스타일 개선, 코드 정리

---

## 백로그 목록

### � 타입 시스템 개선
**우선순위**: 높음 | **예상 작업량**: 중간 | **의존성**: 없음

#### 작업 세부사항
- Feed와 FeedData 인터페이스 통합
- gray-matter 파싱 결과에 대한 엄격한 타입 정의
- 타입 안전성 향상 (any 타입 제거)

#### 완료 조건
- 모든 타입 에러 제거
- 인터페이스 중복 제거
- 타입 안전성 100% 달성

---

### 🔄 피드 데이터 유틸리티 모듈화
**우선순위**: 높음 | **예상 작업량**: 중간 | **의존성**: 없음

#### 작업 세부사항
- feeds.ts의 중복 로직 제거 (fs.existsSync 반복 호출)
- 파일 시스템 작업을 안전하게 캡슐화
- 데이터 변환 유틸리티 함수 분리

#### 완료 조건
- 중복 코드 제거
- 에러 처리 추가
- 단위 테스트 가능하도록 모듈화

---

### 🔄 커스텀 훅: useFeedData
**우선순위**: 중간 | **예상 작업량**: 중간 | **의존성**: 피드 데이터 유틸리티 모듈화

#### 작업 세부사항
- 피드 데이터 fetching 로직을 커스텀 훅으로 분리
- 데이터 캐싱 및 상태 관리
- 로딩 및 에러 상태 처리

#### 완료 조건
- FeedList, FeedCard 등에서 직접 데이터 호출 제거
- 훅을 통한 일관된 데이터 접근
- 메모이제이션 적용

---

### 🔄 커스텀 훅: useFeedFilter
**우선순위**: 중간 | **예상 작업량**: 낮음 | **의존성**: useFeedData

#### 작업 세부사항
- 필터링 로직을 커스텀 훅으로 분리
- 필터 상태 관리 및 URL 동기화
- 필터 옵션 확장성 고려

#### 완료 조건
- FeedList 컴포넌트에서 필터 로직 제거
- 필터 상태가 URL에 반영
- 새로운 필터 타입 쉽게 추가 가능

---

### ✅ 에러 처리 시스템
**우선순위**: 높음 | **예상 작업량**: 중간 | **의존성**: 없음

#### 작업 세부사항
- 파일 시스템 작업에 대한 예외 처리
- 잘못된 데이터 형식에 대한 유효성 검증
- 사용자 친화적인 에러 메시지 및 폴백 UI

#### 완료 조건
- 모든 파일 작업에 try-catch 적용 ✅
- 적절한 에러 로깅 ✅
- graceful degradation 구현 ✅

#### 완료된 작업
- `safeReadFile`, `safeReaddir`, `safeExists` 유틸리티 함수 추가
- `validateFeedFrontmatter` 함수로 프론트매터 유효성 검증
- 모든 파일 시스템 작업에 try-catch 적용
- `getFeedData` 함수 null 반환 처리 및 404 페이지 표시
- `parseHeadingsFromHtml` 함수에 HTML 파싱 에러 처리
- 상세한 콘솔 에러 로깅 추가

---

### 🔄 컴포넌트 메모이제이션
**우선순위**: 중간 | **예상 작업량**: 낮음 | **의존성**: 없음

#### 작업 세부사항
- React.memo를 활용한 컴포넌트 최적화
- useMemo, useCallback을 활용한 계산 최적화
- 불필요한 리렌더링 방지

#### 완료 조건
- 프로필링을 통한 성능 개선 확인
- 메모이제이션 적용 컴포넌트 목록화
- 성능 지표 개선

---

### 🔄 CSS 공통 패턴 추출
**우선순위**: 중간 | **예상 작업량**: 중간 | **의존성**: 없음

#### 작업 세부사항
- 반복되는 .container 클래스 패턴 추출
- 공통 미디어 쿼리 믹스인 생성
- 유틸리티 클래스 시스템 도입

#### 완료 조건
- 중복 CSS 코드 50% 이상 제거
- 일관된 디자인 패턴 적용
- 유지보수성 향상

---

### 🔄 CSS 파일 구조 최적화
**우선순위**: 낮음 | **예상 작업량**: 중간 | **의존성**: CSS 공통 패턴 추출

#### 작업 세부사항
- 스타일 파일들을 기능별로 재구성
- globals.css 분할 (base, components, layouts)
- CSS 모듈 네이밍 컨벤션 통일

#### 완료 조건
- 명확한 파일 구조 구축
- 스타일 간 의존성 최소화
- 개발자 경험 향상

---

### 🔄 컴포넌트 스타일 표준화
**우선순위**: 낮음 | **예상 작업량**: 낮음 | **의존성**: CSS 파일 구조 최적화

#### 작업 세부사항
- 카드, 버튼 등 컴포넌트 패턴 일관성 확보
- 디자인 토큰 체계화
- 반응형 디자인 표준 적용

#### 완료 조건
- 모든 컴포넌트에 일관된 스타일 적용
- 디자인 시스템 문서화
- 새로운 컴포넌트 개발 시 표준 준수

---

## 진행 상황 추적

### 완료된 작업
- 없음

### 현재 진행중인 작업
- 백로그 문서 생성

### 차기 작업 계획
1. 타입 시스템 개선 (가장 높은 우선순위)
2. 에러 처리 시스템 (안정성 향상)
3. 피드 데이터 유틸리티 모듈화 (코드 품질 향상)

## 위험 요소 및 고려사항

### 기술적 위험
- 타입 변경으로 인한 기존 코드 호환성 문제
- CSS 리팩토링 시 스타일 깨짐 가능성
- 성능 최적화로 인한 예상치 못한 사이드 이펙트

### 일정 위험
- 각 작업의 상호 의존성으로 인한 블로킹
- 예상 작업량 산정이 어려운 부분들
- 테스트 및 검증에 소요되는 시간

## 성공 지표

### 코드 품질 지표
- 타입 커버리지 100%
- 중복 코드 비율 20% 미만 감소
- 코드 복잡도 평균 10점 미만 유지

### 성능 지표
- 번들 크기 변화 (±5% 이내)
- Lighthouse 성능 점수 90점 이상 유지
- 초기 로딩 시간 2초 이내

### 유지보수성 지표
- 새 기능 개발 시간 20% 단축
- 버그 수정 시간 30% 단축
- 코드 리뷰 시간 25% 단축

---

## 변경 이력
- 2026-01-22: 백로그 문서 초기 생성 및 작업 분류
